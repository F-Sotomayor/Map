{"version":3,"sources":["marker.js"],"names":["ifSecurity","document","getElementById","popMenu","closeMenu","submitBtn","noteInput","typeReport","google","maps","event","addListener","map","style","display","value","addEventListener","addMarker","latLng","location","marker","Marker","position","draggable","icon","infowindowContent","category","date","Date","note","open","infowindow","InfoWindow","content","close"],"mappings":"AAAA;AACA,IAAMA,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB,EACA;;AAEA,IAAMC,OAAO,GAAGF,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACA,IAAME,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;AACA,IAAMG,SAAS,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;AACA,IAAMI,SAAS,GAAGL,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAlB;AACA,IAAIK,UAAU,GAAGN,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAjB;AAGAM,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,WAAlB,CAA8BC,GAA9B,EAAmC,OAAnC,EAA4C,UAASF,KAAT,EAAgB;AAC1D;AACAP,EAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAR,EAAAA,SAAS,CAACS,KAAV,GAAkB,IAAlB,CAH0D,CAI1D;;AACAV,EAAAA,SAAS,CAACW,gBAAV,CAA2B,OAA3B,EAAoC,YAAW;AAC7CC,IAAAA,SAAS,CAACP,KAAK,CAACQ,MAAP,EAAeN,GAAf,CAAT;AACAT,IAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAJ,IAAAA,KAAK,CAACQ,MAAN,GAAe,IAAf;AACAR,IAAAA,KAAK,CAACE,GAAN,GAAY,IAAZ;AACD,GALD,EAL0D,CAW1D;;AACAR,EAAAA,SAAS,CAACY,gBAAV,CAA2B,OAA3B,EAAoC,YAAW;AAC7CN,IAAAA,KAAK,CAACQ,MAAN,GAAe,IAAf;AACAR,IAAAA,KAAK,CAACE,GAAN,GAAY,IAAZ;AACAT,IAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACD,GAJD;AAKD,CAjBD,GAmBA;;AACA,SAASG,SAAT,CAAmBE,QAAnB,EAA6BP,GAA7B,EAAkC;AAClC;AACE,MAAMQ,MAAM,GAAG,IAAIZ,MAAM,CAACC,IAAP,CAAYY,MAAhB,CAAuB;AACpCC,IAAAA,QAAQ,EAAEH,QAD0B;AAEpCP,IAAAA,GAAG,EAAEA,GAF+B;AAGpCW,IAAAA,SAAS,EAAE,IAHyB;AAIpCC,IAAAA,IAAI,qBAAcjB,UAAU,CAACQ,KAAzB;AAJgC,GAAvB,CAAf,CAFgC,CAQjC;;AACC,MAAIU,iBAAiB,GAAG;AACtBC,IAAAA,QAAQ,YAAKnB,UAAU,CAACQ,KAAhB,CADc;AAEtBY,IAAAA,IAAI,EAAE,IAAIC,IAAJ,EAFgB;AAGtBC,IAAAA,IAAI,YAAKvB,SAAS,CAACS,KAAf,CAHkB;AAItBe,IAAAA,IAAI,EAAE;AAJgB,GAAxB;AAMA,MAAMC,UAAU,GAAG,IAAIvB,MAAM,CAACC,IAAP,CAAYuB,UAAhB,CAA2B;AAC5CC,IAAAA,OAAO,iBACER,iBAAiB,CAACC,QADpB,gCAEID,iBAAiB,CAACE,IAFtB,+BAGGF,iBAAiB,CAACI,IAHrB;AADqC,GAA3B,CAAnB;AAOAT,EAAAA,MAAM,CAACT,WAAP,CAAmB,OAAnB,EAA4B,UAASD,KAAT,EAAgB;AAC1C,QAAIe,iBAAiB,CAACK,IAAlB,KAA2B,KAA/B,EAAsC;AACnCC,MAAAA,UAAU,CAACD,IAAX,CAAgBlB,GAAhB,EAAqBQ,MAArB;AACAK,MAAAA,iBAAiB,CAACK,IAAlB,GAAyB,IAAzB;AACC,KAHJ,MAII;AACFC,MAAAA,UAAU,CAACG,KAAX;AACAT,MAAAA,iBAAiB,CAACK,IAAlB,GAAyB,KAAzB;AACF;AAED,GAVD;AAYD","file":"marker.23fb6158.js","sourceRoot":"..","sourcesContent":["// Grabbing checkbox values\r\nconst ifSecurity = document.getElementById(\"ifSecurity\")\r\n// Grabbing poppable menu\r\n\r\nconst popMenu = document.getElementById(\"popMenu\")\r\nconst closeMenu = document.getElementById(\"closeMenu\")\r\nconst submitBtn = document.getElementById(\"submitBtn\")\r\nconst noteInput = document.getElementById(\"textarea\")\r\nlet typeReport = document.getElementById(\"categoryType\")\r\n\r\n\r\ngoogle.maps.event.addListener(map, 'click', function(event) {\r\n  // Opens the modal\r\n  popMenu.style.display = \"flex\";\r\n  noteInput.value = null\r\n  // Adds marker and closes modal\r\n  submitBtn.addEventListener(\"click\", function() {\r\n    addMarker(event.latLng, map);\r\n    popMenu.style.display = \"none\"\r\n    event.latLng = null;\r\n    event.map = null;\r\n  })\r\n  // Closes modal and resets markers value\r\n  closeMenu.addEventListener(\"click\", function() {\r\n    event.latLng = null;\r\n    event.map = null;\r\n    popMenu.style.display = \"none\"\r\n  })\r\n});\r\n\r\n// Adds a marker to the map.\r\nfunction addMarker(location, map) {\r\n// Add the marker at the clicked location\r\n  const marker = new google.maps.Marker({\r\n    position: location,\r\n    map: map,\r\n    draggable: true,\r\n    icon: `/markers/${typeReport.value}.png`\r\n  })\r\n // Adds info when clicking the marker \r\n  let infowindowContent = {\r\n    category: `${typeReport.value}` ,\r\n    date: new Date(),\r\n    note: `${noteInput.value}`,\r\n    open: false\r\n  }\r\n  const infowindow = new google.maps.InfoWindow({\r\n    content:\r\n     `Tipo:${infowindowContent.category}<br>\r\n      Fecha: ${infowindowContent.date}<br>\r\n      Nota: ${infowindowContent.note}`\r\n  });\r\n  \r\n  marker.addListener('click', function(event) {\r\n    if (infowindowContent.open === false) {\r\n       infowindow.open(map, marker);\r\n       infowindowContent.open = true;\r\n       }\r\n   else {\r\n      infowindow.close()\r\n      infowindowContent.open = false\r\n   }\r\n\r\n  })\r\n \r\n}"]}